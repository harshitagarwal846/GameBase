<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GameIt</title>
</head>

<body>
  Main Page
  <button id="logout" onclick="logout()">logout</button>
</body>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyCDMvFD5zthICujULAK7ocBmpZamJ7View",
    authDomain: "gamebase-fa264.firebaseapp.com",
    projectId: "gamebase-fa264",
    storageBucket: "gamebase-fa264.appspot.com",
    messagingSenderId: "307863343800",
    appId: "1:307863343800:web:8a4bf144a06b04f4869a4d",
    measurementId: "G-5L8T4Q6WGY"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  firebase.auth().onAuthStateChanged(function (user) {
    if (user) {
      // User is signed in.
      //   window.location.href="main.html";
    } else {
      window.location.href = "login.html";
      // No user is signed in.
    }
  });

  function logout() {
    firebase.auth().signOut().catch((error) => {
      var errorCode = error.code;
      var errorMessage = error.message;

      window.alert("Error : " + errorMessage);
    });
  }
</script>

</html>